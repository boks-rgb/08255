<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Î≥µÏì∞Ïå§Ïùò Î≥¥ÏÑùÎåÄÌôî</title>
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React 18 UMD -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel (Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú JSX Î≥ÄÌôò) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-gradient-to-b from-pink-100 via-white to-indigo-100 min-h-screen">
    <div id="root"></div>

    <!-- üëá JSXÎäî Î∞òÎìúÏãú type="text/babel" -->
    <script type="text/babel">
      const { useEffect, useMemo, useState } = React;

      /* ----- Ïú†Ìã∏ ----- */
      const PALETTE = ["bg-rose-100 text-rose-600","bg-amber-100 text-amber-700","bg-emerald-100 text-emerald-700","bg-sky-100 text-sky-700","bg-violet-100 text-violet-700","bg-fuchsia-100 text-fuchsia-700","bg-teal-100 text-teal-700","bg-orange-100 text-orange-700"];
      const colorFor = (i) => PALETTE[i % PALETTE.length];
      const formatDate = (d) => `${d.getFullYear()}ÎÖÑ ${d.getMonth()+1}Ïõî ${d.getDate()}Ïùº`;

      /* ----- 52Í∞ú ÎØ∏Îçï (ÌïÑÏöî Ïãú Ï†ÑÏ≤¥ Ï±ÑÏõåÎÑ£Í∏∞) ----- */
      const VIRTUES = [
        { key:"Í∞êÏÇ¨", name:"Í∞êÏÇ¨", easy:"Î∞õÏùÄ ÎèÑÏõÄÏóê Í≥†ÎßàÏõÄÏùÑ ÌëúÌòÑÌï¥Ïöî", emoji:"üôè" },
        { key:"Í≤∞Ïùò", name:"Í≤∞Ïùò", easy:"ÎßàÏùåÎ®πÏùÄ ÏùºÏùÑ ÎÅùÍπåÏßÄ ÌïòÎ†§Îäî Îã§ÏßêÏù¥ÏóêÏöî", emoji:"üßó" },
        { key:"Í≤∏ÏÜê", name:"Í≤∏ÏÜê", easy:"ÏûòÌï¥ÎèÑ ÏûêÎûëÌïòÏßÄ ÏïäÍ≥† Î∞∞ÏõåÏöî", emoji:"üôá" },
        { key:"Í¥ÄÏö©", name:"Í¥ÄÏö©", easy:"Îã§Î•∏ ÏÇ¨ÎûåÏùò Ïã§ÏàòÎ•º Ïù¥Ìï¥ÌïòÍ≥† Ïö©ÏÑúÌï¥Ïöî", emoji:"ü§ù" },
        { key:"Í∑ºÎ©¥", name:"Í∑ºÎ©¥", easy:"Î∂ÄÏßÄÎü∞Ìûà Ìï† ÏùºÏùÑ Ìï¥Ïöî", emoji:"üõ†Ô∏è" },
        { key:"Í∏∞Î∞±Ìï®", name:"Í∏∞Î∞±Ìï®", easy:"Ïî©Ïî©ÌïòÍ≥† ÎãπÎãπÌïú ÌÉúÎèÑÏòàÏöî", emoji:"ü¶Å" },
        { key:"Í∏∞ÏßÄ", name:"Í∏∞ÏßÄ", easy:"Ïû¨Ïπò ÏûàÍ≤å Ìï¥Í≤∞Ï±ÖÏùÑ Ï∞æÏïÑÏöî", emoji:"üß†" },
        { key:"ÎÅàÍ∏∞", name:"ÎÅàÍ∏∞", easy:"Ïñ¥Î†§ÏõåÎèÑ Ìè¨Í∏∞ÌïòÏßÄ ÏïäÏïÑÏöî", emoji:"üê¢" },
        { key:"ÎÑàÍ∑∏Îü¨ÏõÄ", name:"ÎÑàÍ∑∏Îü¨ÏõÄ", easy:"ÎßàÏùåÏù¥ ÎÑìÍ≥† Îî∞ÎúªÌï¥Ïöî", emoji:"ü§ó" },
        { key:"ÎèÑÏõÄ", name:"ÎèÑÏõÄ", easy:"Î®ºÏ†Ä ÎÇòÏÑúÏÑú ÎèÑÏôÄÏöî", emoji:"ü´±‚Äçü´≤" },
        { key:"Î™ÖÏòà", name:"Î™ÖÏòà", easy:"Î∂ÄÎÅÑÎüΩÏßÄ ÏïäÍ≤å ÌñâÎèôÌï¥Ïöî", emoji:"üèÖ" },
        { key:"Î™©Ï†ÅÏùòÏãù", name:"Î™©Ï†ÅÏùòÏãù", easy:"Ïôú ÌïòÎäîÏßÄ ÏïåÍ≥† ÏßëÏ§ëÌï¥Ïöî", emoji:"üéØ" },
        { key:"ÎØøÏùåÏßÅÌï®", name:"ÎØøÏùåÏßÅÌï®", easy:"ÏïΩÏÜçÏùÑ ÏßÄÏºú ÎØøÏùÑ Ïàò ÏûàÏñ¥Ïöî", emoji:"üõ°Ô∏è" },
        /* ... ÎÇòÎ®∏ÏßÄ 39Í∞úÎèÑ Í∞ôÏùÄ Ìå®ÌÑ¥ÏúºÎ°ú Í≥ÑÏÜç ... */
      ];

      /* ----- AES-GCM Ï†ÄÏû• (HTTPS/localhostÏóêÏÑúÎßå ÎèôÏûë) ----- */
      const storageKey = "gemcards.v1";
      const SECURE = window.isSecureContext;
      async function getOrCreateCryptoKey() {
        const existing = localStorage.getItem("gemcards.aesKeyBase64");
        if (existing) {
          const raw = Uint8Array.from(atob(existing), c=>c.charCodeAt(0));
          return crypto.subtle.importKey("raw", raw, {name:"AES-GCM"}, false, ["encrypt","decrypt"]);
        }
        const rawKey = crypto.getRandomValues(new Uint8Array(32));
        localStorage.setItem("gemcards.aesKeyBase64", btoa(String.fromCharCode(...rawKey)));
        return crypto.subtle.importKey("raw", rawKey, {name:"AES-GCM"}, false, ["encrypt","decrypt"]);
      }
      async function encryptText(plain) {
        const key = await getOrCreateCr
